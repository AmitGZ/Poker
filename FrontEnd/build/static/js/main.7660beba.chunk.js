(this["webpackJsonppoker-online"]=this["webpackJsonppoker-online"]||[]).push([[0],{38:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(27),c=a.n(o),i=(a(38),a(11)),r=a(32),d=a(15),u=a(8),l=a(21),f=a(57),p=a(58),b=a(2),m=function(e){var t=e.joinGame,a=Object(n.useState)(),s=Object(u.a)(a,2),o=s[0],c=s[1],i=Object(n.useState)(),r=Object(u.a)(i,2),d=r[0],l=r[1];return Object(b.jsx)(f.a,{className:"login",onSubmit:function(e){e.preventDefault(),t(o,d)},children:Object(b.jsxs)(f.a.Group,{children:[Object(b.jsx)(f.a.Control,{placeholder:"name",onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(f.a.Control,{placeholder:"password",type:"password",onChange:function(e){return l(e.target.value)}}),Object(b.jsx)(p.a,{variant:"success",type:"submit",disabled:!o||!d,children:"Join"})]})})},j=function(e){var t=e.users;return Object(b.jsxs)("div",{className:"user-list",children:[Object(b.jsx)("h4",{children:"Connected Users"}),t.map((function(e,t){return Object(b.jsx)("h5",{children:e.username},t)}))]})},_=a(17),g=function(e){var t=e.createRoom,a=(e.user,e.enterMoney),s=Object(n.useState)(),o=Object(u.a)(s,2),c=o[0],i=o[1];return Object(b.jsx)(f.a,{className:"login",onSubmit:function(e){e.preventDefault(),t(c,a)},children:Object(b.jsxs)(f.a.Group,{children:[Object(b.jsx)(f.a.Control,{placeholder:"Room Name",onChange:function(e){return i(e.target.value)}}),Object(b.jsx)(p.a,{variant:"success",type:"submit",disabled:!c,children:"Join Room"})]})})},h=function(e){var t=e.createRoom,a=e.user,s=e.enterMoney,o={state:!0,color:"green",text:"New Room"},c={state:!1,color:"red",text:"Hide"},i=Object(n.useState)(o),r=Object(u.a)(i,2),d=r[0],l=r[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)(p.a,{variant:"primary",onClick:function(){l(d.state?c:o)},style:{backgroundColor:d.color,width:"100%"},className:"btn",children:[" ",d.text]},"new"),d.state||Object(b.jsx)(g,{createRoom:t,user:a,enterMoney:s})]})},O=a(19),v=function(e){var t=e.rooms,a=e.joinRoom,s=e.createRoom,o=e.user,c=Object(n.useState)({x:parseInt(o.money/2)}),i=Object(u.a)(c,2),r=i[0],d=i[1];return Object(b.jsxs)("div",{id:"room-list",className:"room-list",children:[Object(b.jsx)("h4",{id:"availableRooms",children:"Available Rooms"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:[" ",r.x," $ "]}),Object(b.jsx)(O.a,{xmin:parseInt(o.money/10),xmax:o.money,x:r.x,onChange:function(e){var t=e.x;return d((function(e){return Object(_.a)(Object(_.a)({},e),{},{x:t})}))}})]}),Object(b.jsx)(h,{createRoom:s,user:o,enterMoney:r.x}),t.map((function(e){return Object(b.jsxs)(p.a,{onClick:function(){a(e.id,r.x)},children:[e.name," ",e.numberOfPlayers,"/5"]},e.id)}))]})},x=a(56),k=a(29),y=function(e){var t=e.sendMessage,a=Object(n.useState)(""),s=Object(u.a)(a,2),o=s[0],c=s[1];return Object(b.jsx)(f.a,{onSubmit:function(e){e.preventDefault(),t(o),c("")},children:Object(b.jsxs)(x.a,{children:[Object(b.jsx)(k.a,{type:"user",placeholder:"message...",onChange:function(e){return c(e.target.value)},value:o}),Object(b.jsx)(x.a.Append,{children:Object(b.jsx)(p.a,{variant:"primary",type:"submit",disabled:!o,children:"Send"})})]})})},S=function(e){var t=e.messages,a=Object(n.useRef)();return Object(n.useEffect)((function(){if(a&&a.current){var e=a.current,t=e.scrollHeight,n=e.clientHeight;a.current.scrollTo({left:0,top:t-n,behavior:"smooth"})}}),[t]),Object(b.jsx)("div",{ref:a,className:"message-container",children:t.map((function(e,t){return Object(b.jsxs)("div",{className:"user-message",children:[Object(b.jsx)("div",{className:"message bg-primary",children:e.message}),Object(b.jsx)("div",{className:"from-user",children:e.username})]},t)}))})},R=function(e){var t=e.sendMessage,a=e.messages,n=e.users;e.closeConnection,e.joinRoom;return Object(b.jsxs)("div",{children:[Object(b.jsx)(j,{users:n}),Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsx)(S,{messages:a}),Object(b.jsx)(y,{sendMessage:t})]})]})},w=function(e){var t=e.joinRoom,a=e.rooms,n=e.createRoom,s=e.user;return Object(b.jsx)("div",{className:"available-rooms",children:Object(b.jsx)(v,{rooms:a,joinRoom:t,createRoom:n,user:s})})},C=a.p+"static/media/poker_table.87ff0626.png",I=a.p+"static/media/user.73a0bc1f.png",T=a.p+"static/media/background.0eba5a55.png",N=a.p+"static/media/back_of_card.f07ef3ff.png",M=a.p+"static/media/dealer.d4c14bda.png",A=a.p+"static/media/2_of_hearts.c2cb81fb.png",L=a.p+"static/media/3_of_hearts.d50c0a08.png",q=a.p+"static/media/4_of_hearts.436fe356.png",P=a.p+"static/media/5_of_hearts.f407aa6f.png",F=a.p+"static/media/6_of_hearts.3fff0835.png",E=a.p+"static/media/7_of_hearts.fdc0fa83.png",W=a.p+"static/media/8_of_hearts.cff7b360.png",J=a.p+"static/media/9_of_hearts.a896f989.png",$=a.p+"static/media/10_of_hearts.bf72f319.png",D=a.p+"static/media/jack_of_hearts.f623f209.png",G=a.p+"static/media/queen_of_hearts.746a7ee8.png",H=a.p+"static/media/king_of_hearts.67c7a876.png",B=a.p+"static/media/ace_of_hearts.5a72df7d.png",U=a.p+"static/media/2_of_spades.b9261a5e.png",z=a.p+"static/media/3_of_spades.5aea0220.png",V=a.p+"static/media/4_of_spades.8f066844.png",K=a.p+"static/media/5_of_spades.bffe8ee0.png",Q=a.p+"static/media/6_of_spades.1cbd30ed.png",X=a.p+"static/media/7_of_spades.1517728e.png",Y=a.p+"static/media/8_of_spades.c8c922f0.png",Z=a.p+"static/media/9_of_spades.dcce4a16.png",ee=a.p+"static/media/10_of_spades.c9f933df.png",te=a.p+"static/media/jack_of_spades.3fa41aad.png",ae=a.p+"static/media/queen_of_spades.c9de6912.png",ne=a.p+"static/media/king_of_spades.fda148e5.png",se=a.p+"static/media/ace_of_spades.a24049b6.png",oe=a.p+"static/media/2_of_clubs.d5d968ca.png",ce=a.p+"static/media/3_of_clubs.bbea0442.png",ie=a.p+"static/media/4_of_clubs.e6ba95ce.png",re=a.p+"static/media/5_of_clubs.4397c46f.png",de=a.p+"static/media/6_of_clubs.b44599ca.png",ue=a.p+"static/media/7_of_clubs.efd12036.png",le=a.p+"static/media/8_of_clubs.78dfd743.png",fe=a.p+"static/media/9_of_clubs.8e317f62.png",pe=a.p+"static/media/10_of_clubs.1e849b92.png",be=a.p+"static/media/jack_of_clubs.316b8303.png",me=a.p+"static/media/queen_of_clubs.ef480115.png",je=a.p+"static/media/king_of_clubs.b70624b5.png",_e=a.p+"static/media/ace_of_clubs.f2dd09c0.png",ge=a.p+"static/media/2_of_diamonds.a51b192d.png",he=a.p+"static/media/3_of_diamonds.b78fe80c.png",Oe=a.p+"static/media/4_of_diamonds.e86dcc4c.png",ve=a.p+"static/media/5_of_diamonds.ced27ce3.png",xe=a.p+"static/media/6_of_diamonds.b19504c1.png",ke=a.p+"static/media/7_of_diamonds.fe13bd1b.png",ye=a.p+"static/media/8_of_diamonds.b1389da2.png",Se=a.p+"static/media/9_of_diamonds.ae87f8c3.png",Re=a.p+"static/media/10_of_diamonds.f5f2d107.png",we=a.p+"static/media/jack_of_diamonds.afe516e9.png",Ce=a.p+"static/media/queen_of_diamonds.91139054.png",Ie=a.p+"static/media/king_of_diamonds.87c79c7e.png",Te=a.p+"static/media/ace_of_diamonds.326a309b.png",Ne={poker_table:C,user:I,background:T,back_of_card:N,dealer:M,two_of_hearts:A,three_of_hearts:L,four_of_hearts:q,five_of_hearts:P,six_of_hearts:F,seven_of_hearts:E,eight_of_hearts:W,nine_of_hearts:J,ten_of_hearts:$,jack_of_hearts:D,queen_of_hearts:G,king_of_hearts:H,ace_of_hearts:B,two_of_spades:U,three_of_spades:z,four_of_spades:V,five_of_spades:K,six_of_spades:Q,seven_of_spades:X,eight_of_spades:Y,nine_of_spades:Z,ten_of_spades:ee,jack_of_spades:te,queen_of_spades:ae,king_of_spades:ne,ace_of_spades:se,two_of_clubs:oe,three_of_clubs:ce,four_of_clubs:ie,five_of_clubs:re,six_of_clubs:de,seven_of_clubs:ue,eight_of_clubs:le,nine_of_clubs:fe,ten_of_clubs:pe,jack_of_clubs:be,queen_of_clubs:me,king_of_clubs:je,ace_of_clubs:_e,two_of_diamonds:ge,three_of_diamonds:he,four_of_diamonds:Oe,five_of_diamonds:ve,six_of_diamonds:xe,seven_of_diamonds:ke,eight_of_diamonds:ye,nine_of_diamonds:Se,ten_of_diamonds:Re,jack_of_diamonds:we,queen_of_diamonds:Ce,king_of_diamonds:Ie,ace_of_diamonds:Te},Me=["two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"],Ae=["clubs","hearts","spades","diamonds"],Le=(a(51),a(31)),qe=(a(52),function(e){var t=e.joinRoom,a=e.LeaveRoom,s=e.sendMessage,o=e.connection,c=e.messages,i=e.roomStatus,r=e.user,d=946,l=Math.round(490.974),f=100,m=[[473,400],[184,337],[217,84]];m[3]=[d-m[2][0],m[2][1]],m[4]=[d-m[1][0],m[1][1]];for(var j=500/6,g=121,h=[120,95],v=[],x=-2;x<3;x++)v.push([473+x*(j+6),17*l/40]);var k=Object.keys(Ne).length,y=Object(n.useState)(0),S=Object(u.a)(y,2),w=S[0],C=S[1],I=Object(n.useState)(),T=Object(u.a)(I,2),N=T[0],M=T[1],A=Object(n.useState)(!1),L=Object(u.a)(A,2),q=L[0],P=L[1],F=Object(n.useState)(!1),E=Object(u.a)(F,2),W=(E[0],E[1]),J=Object(n.useState)(i.turnTime),$=Object(u.a)(J,2),D=$[0],G=$[1],H=Object(n.useState)({y:0}),B=Object(u.a)(H,2),U=B[0],z=B[1];Object(n.useEffect)((function(){var e=setInterval((function(){D>0&&0!=i.stage&&5!=i.stage&&G(D-1),0===D&&clearInterval(e)}),1e3);return function(){clearInterval(e)}}));var V=function(e,t,a){e.drawImage(N.user,m[t][0]-50,m[t][1]-50,f,f);var n=1;if(t<3&&(n=-1),i.stage>0&&1==a.isActive){if(2==a.cards.length)for(var s=0;s<2;s++)e.drawImage(N[Me[a.cards[s].value]+"_of_"+Ae[a.cards[s].suit]],m[t][0]-j/2+n*h[s],m[t][1]-60.5,j,g);else for(s=0;s<2;s++)e.drawImage(N.back_of_card,m[t][0]-j/2+n*h[s],m[t][1]-60.5,j,g);a.position==i.dealerPosition&&e.drawImage(N.dealer,m[t][0],m[t][1],40,40)}a.isWinner&&5==i.stage&&(e.font="50px Arial",e.strokeStyle="black",e.fillStyle="white",e.lineWidth=6,e.strokeText("Winner!",m[t][0],m[t][1]-77),e.fillText("Winner!",m[t][0],m[t][1]-77)),e.font="20px Arial",e.strokeStyle="black",e.fillStyle="white",e.lineWidth=7,e.textAlign="center",e.backgroundColor="white",e.strokeText(a.username+a.moneyInTable+"$ "+a.moneyInTurn,m[t][0],m[t][1]+77),e.fillText(a.username+a.moneyInTable+"$ "+a.moneyInTurn,m[t][0],m[t][1]+77)};return Object(n.useEffect)((function(){M((function(){var e=new Object;for(var t in Ne)e[t]=new Image,e[t].src=Ne[t],e[t].onload=function(){C((function(e){return e+1}))};return e}))}),[]),Object(n.useEffect)((function(){if(!(w<k)){var e=document.getElementById("myCanvas").getContext("2d");e.drawImage(N.poker_table,0,0,d,l);for(var t=0;t<i.users.length;t++)V(e,(i.users[t].position-r.position+5)%5,i.users[t]);r.position==i.talkingPosition?P(!0):P(!1),r.position==i.dealerPosition?W(!0):W(!1),function(e){if(void 0!=i.cardsOnTable)for(var t=0;t<i.cardsOnTable.length;t++)e.drawImage(N[Me[i.cardsOnTable[t].value]+"_of_"+Ae[i.cardsOnTable[t].suit]],v[t][0]-j/2,v[t][1]-60.5,j,g);e.font="20px Arial",e.fillStyle="white",e.textAlign="center",e.backgroundColor="white",e.fillText(i.pot+"$",473,5*l/8)}(e),console.log(i.turnTime),G(i.turnTime)}}),[w,i]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{width:"".concat(d,"px"),height:"".concat(l,"px"),position:"relative"},children:[Object(b.jsx)("canvas",{style:{position:"absolute"},id:"myCanvas",width:d,height:l}),Object(b.jsx)("div",{style:{position:"absolute",width:120,height:120,marginLeft:"".concat(m[(i.talkingPosition-r.position+5)%5][0]-60,"px"),marginTop:"".concat(m[(i.talkingPosition-r.position+5)%5][1]-60,"px")},children:0!=i.stage&&5!=i.stage&&Object(b.jsx)(Le.a,{value:D,maxValue:i.turnTime})}),Object(b.jsxs)("div",{style:{position:"absolute"},children:[Object(b.jsx)(p.a,{style:{position:"absolute"},variant:"danger",onClick:function(){return a()},children:"Leave Room"}),0!=i.stage&&5!=i.stage&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{position:"absolute",marginLeft:"543px",marginTop:"343px",height:"90px"},children:q&&i.turnStake<r.moneyInTable&&Object(b.jsx)(O.a,{style:{color:"#7d0015",height:"120px"},yreverse:!0,axis:"y",ymin:i.turnStake,ymax:r.moneyInTable,y:U.y,onChange:function(e){var t=e.y;return z((function(e){return Object(_.a)(Object(_.a)({},e),{},{y:t})}))}})}),Object(b.jsxs)("div",{className:"button-list",style:{marginLeft:"".concat(567.6,"px"),marginTop:"".concat(2*l/3,"px")},children:[Object(b.jsx)(p.a,{disabled:!q||r.moneyInTurn<i.turnStake,variant:"dark",onClick:function(){o.invoke("ReceiveCheck")},children:"Check"},"Check"),Object(b.jsxs)(p.a,{disabled:!q||r.moneyInTurn==i.turnStake,variant:"dark",onClick:function(){o.invoke("ReceiveCall")},children:["Call ",i.turnStake>r.moneyInTurn?i.turnStake-r.moneyInTurn:null]},"Call"),Object(b.jsxs)(p.a,{disabled:!q||i.turnStake>=r.moneyInTable,variant:"dark",onClick:function(){o.invoke("ReceiveRaise",U.y)},children:["Raise ",U.y]},"Raise"),Object(b.jsx)(p.a,{disabled:!q,variant:"dark",onClick:function(){o.invoke("ReceiveFold")},children:"Fold"},"Fold")]})]})]})]}),Object(b.jsx)(R,{sendMessage:s,messages:c,users:i.users,joinRoom:t})]})}),Pe=function(e){var t=e.joinRoom,a=e.LeaveRoom,n=e.rooms,s=e.sendMessage,o=e.messages,c=e.roomStatus,i=e.createRoom,r=e.user,d=e.connection;return Object(b.jsx)("div",{children:null==r.roomId?Object(b.jsx)(w,{joinRoom:t,createRoom:i,rooms:n,user:r}):Object(b.jsx)(qe,{joinRoom:t,connection:d,LeaveRoom:a,sendMessage:s,messages:o,roomStatus:c,user:r})})},Fe=function(e){var t=e.user;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h4",{style:{textAlign:"left",position:"absolute",padding:"10px"},children:["Hello ",t.username,"!"]}),Object(b.jsxs)("h4",{style:{textAlign:"right",padding:"10px"},children:[t.money,"$"]})]})},Ee=(a(53),a(54),function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)([]),c=Object(u.a)(o,2),f=c[0],p=c[1],j=Object(n.useState)([]),_=Object(u.a)(j,2),g=_[0],h=_[1],O=Object(n.useState)([]),v=Object(u.a)(O,2),x=v[0],k=v[1],y=Object(n.useState)({}),S=Object(u.a)(y,2),R=S[0],w=S[1],C=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=(new l.b).withUrl("https://localhost:44382/",{skipNegotiation:!0,transport:l.a.WebSockets}).configureLogging(l.c.Information).build()).serverTimeoutInMilliseconds=1e5,n.on("RoomStatus",(function(e){console.log(e),h(e)})),n.on("ReceiveMessage",(function(e,t){console.log(e),p((function(a){return[].concat(Object(r.a)(a),[{username:e,message:t}])}))})),n.on("AllRoomsStatus",(function(e){console.log(e),k(e.rooms)})),n.on("Alert",(function(e){alert(e)})),n.on("UserStatus",(function(e){console.log(e),w(e)})),n.onclose((function(e){s(),p([]),h([]),w({}),k([])})),e.next=11,n.start();case 11:return e.next=13,n.invoke("SignIn",t,a);case 13:s(n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p([]),e.next=4,a.invoke("JoinRoom",t,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.invoke("createRoom",t,parseInt(n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.invoke("SendMessage",t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.invoke("LeaveRoom");case 2:case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{zIndex:"-2",backgroundImage:"url(".concat(T,")"),height:"120%",width:"100%",position:"absolute"},children:Object(b.jsxs)("div",{className:"bounding-box",children:[Object(b.jsx)("div",{className:"background-gray"}),a&&Object(b.jsx)(Fe,{user:R}),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("h2",{children:"Poker Online"}),Object(b.jsx)("hr",{className:"line"}),a?Object(b.jsx)(Pe,{joinRoom:I,rooms:x,sendMessage:M,messages:f,roomStatus:g,user:R,createRoom:N,LeaveRoom:A,connection:a}):Object(b.jsx)(m,{joinGame:C})]})]})})}),We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))};a.p;c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(Ee,{})}),document.getElementById("root")),We()}},[[55,1,2]]]);
//# sourceMappingURL=main.7660beba.chunk.js.map